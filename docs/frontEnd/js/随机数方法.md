---
title: éšæœºæ•°æ–¹æ³•
date: 2020-10-24
categories:
 - å‰ç«¯
tags:
- js
---

# éšæœºæ•°æ–¹æ³•

> å†…å»ºå‡½æ•° `Math.random()` ä¼šåˆ›å»ºä¸€ä¸ªåœ¨ `0` åˆ° `1` ä¹‹é—´ï¼ˆä¸åŒ…æ‹¬ `1`ï¼‰çš„éšæœºæ•°ã€‚

## ä» min åˆ° max çš„éšæœºæ•°


ç¼–å†™ä¸€ä¸ª `random(min, max)` å‡½æ•°ï¼Œç”¨ä»¥ç”Ÿæˆä¸€ä¸ªåœ¨ `min` åˆ° `max` ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°ï¼ˆä¸åŒ…æ‹¬ `max`)ï¼‰ã€‚
æˆ‘ä»¬éœ€è¦å°†åŒºé—´ 0â€¦1 ä¸­çš„æ‰€æœ‰å€¼â€œæ˜ å°„â€ä¸ºèŒƒå›´åœ¨ `min` åˆ° `max` ä¸­çš„å€¼ã€‚
è¿™å¯ä»¥åˆ†ä¸¤ä¸ªé˜¶æ®µå®Œæˆï¼š

1. å¦‚æœæˆ‘ä»¬å°† 0â€¦1 çš„éšæœºæ•°ä¹˜ä»¥ `max-min`ï¼Œåˆ™éšæœºæ•°çš„èŒƒå›´å°†ä» 0â€¦1 å¢åŠ åˆ° `0..max-min`ã€‚
1. ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬å°†éšæœºæ•°ä¸ `min` ç›¸åŠ ï¼Œåˆ™éšæœºæ•°çš„èŒƒå›´å°†ä¸º `min` åˆ° `max`ã€‚

å‡½æ•°å®ç°ï¼š
```javascript
function random(min, max) {
  return min + Math.random() * (max - min);
}

alert( random(1, 5) );
alert( random(1, 5) );
alert( random(1, 5) );
```
## ä» min åˆ° max çš„éšæœºæ•´æ•°
åˆ›å»ºä¸€ä¸ªå‡½æ•° `randomInteger(minï¼Œmax)`ï¼Œè¯¥å‡½æ•°ä¼šç”Ÿæˆä¸€ä¸ªèŒƒå›´åœ¨ `min` åˆ° `max` ä¸­çš„éšæœºæ•´æ•°ï¼ŒåŒ…æ‹¬ `min` å’Œ `max`ã€‚
**åœ¨ `min..max` èŒƒå›´ä¸­çš„æ‰€æœ‰æ•°å­—çš„å‡ºç°æ¦‚ç‡å¿…é¡»ç›¸åŒã€‚**
### ç®€å•ä½†é”™è¯¯çš„è§£å†³æ–¹æ¡ˆâŒ
```javascript
function randomInteger(min, max) {
  let rand = min + Math.random() * (max - min);
  return Math.round(rand);
}

alert( randomInteger(1, 3) );
```
è¿™ä¸ªå‡½æ•°æ˜¯èƒ½èµ·ä½œç”¨çš„ï¼Œä½†ä¸æ­£ç¡®ã€‚è·å¾—è¾¹ç¼˜å€¼Â `min`Â å’ŒÂ `max`Â çš„æ¦‚ç‡æ¯”å…¶ä»–å€¼ä½ä¸¤å€ã€‚
å‘ç”Ÿè¿™ç§æƒ…å†µæ˜¯å› ä¸ºÂ `Math.round()`Â ä»èŒƒå›´Â `1..3`Â ä¸­è·å¾—éšæœºæ•°ï¼Œå¹¶æŒ‰å¦‚ä¸‹æ‰€ç¤ºè¿›è¡Œå››èˆäº”å…¥
```javascript
values from 1    ... to 1.4999999999  become 1
values from 1.5  ... to 2.4999999999  become 2
values from 2.5  ... to 2.9999999999  become 3
```
### æ­£ç¡®çš„è§£å†³æ–¹æ¡ˆâœ”

- ğŸ”¸è°ƒæ•´å–å€¼èŒƒå›´çš„è¾¹ç•Œ
```javascript
function randomInteger(min, max) {
  // ç°åœ¨èŒƒå›´æ˜¯ä»  (min-0.5) åˆ° (max+0.5)
  let rand = min - 0.5 + Math.random() * (max - min + 1);
  return Math.round(rand);
}

alert( randomInteger(1, 3) );
```

- ğŸ”¸**ä½¿ç”¨Â `Math.floor`Â æ¥å–èŒƒå›´ä»Â `min`Â åˆ°Â `max+1`Â çš„éšæœºæ•°**
```javascript
function randomInteger(min, max) {
  // here rand is from min to (max+1)
  let rand = min + Math.random() * (max + 1 - min);
  return Math.floor(rand);
}

alert( randomInteger(1, 3) );
```
ç°åœ¨æ‰€æœ‰é—´éš”éƒ½ä»¥è¿™ç§æ–¹å¼æ˜ å°„ï¼š
```javascript
values from 1  ... to 1.9999999999  become 1
values from 2  ... to 2.9999999999  become 2
values from 3  ... to 3.9999999999  become 3
```


