(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{519:function(t,e,a){"use strict";a.r(e);var s=a(2),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"一般事件处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一般事件处理"}},[t._v("#")]),t._v(" 一般事件处理")]),t._v(" "),a("h3",{attrs:{id:"常用方式⭐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用方式⭐"}},[t._v("#")]),t._v(" 常用方式⭐")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("onclick()")]),t._v(" —— HTML 中写法")]),t._v(" "),a("li",[a("code",[t._v("elem.onclick = f")]),t._v(" —— DOM 属性调用")]),t._v(" "),a("li",[a("code",[t._v("elem.addEventListener(event, f[, options])")]),t._v(" —— 事件监听， "),a("code",[t._v("options")]),t._v(" 对象有如下属性：\n"),a("ul",[a("li",[a("code",[t._v("once")]),t._v("：如果为 "),a("code",[t._v("true")]),t._v("，那么会在被触发后自动删除监听器。")]),t._v(" "),a("li",[a("code",[t._v("capture")]),t._v("：事件处理的阶段，参考 "),a("a",{attrs:{href:"https://zh.javascript.info/bubbling-and-capturing",target:"_blank",rel:"noopener noreferrer"}},[t._v("冒泡和捕获"),a("OutboundLink")],1),t._v(" 一章中的介绍。由于历史原因，"),a("code",[t._v("options")]),t._v(" 也可以是 "),a("code",[t._v("false/true")]),t._v("，它与 "),a("code",[t._v("{capture: false/true}")]),t._v(" 相同。")]),t._v(" "),a("li",[a("code",[t._v("passive")]),t._v("：如果为 "),a("code",[t._v("true")]),t._v("，那么处理程序将不会调用 "),a("code",[t._v("preventDefault()")])])])]),t._v(" "),a("li",[a("code",[t._v("elem.removeEventListener(event,f[,options])")]),t._v(" —— 移除事件，注意这里的 "),a("code",[t._v("f")]),t._v(" 必须和 "),a("code",[t._v("addEventListener")]),t._v(" 指向同一个函数")])]),t._v(" "),a("blockquote",[a("p",[t._v("上述所有的 "),a("code",[t._v("f")]),t._v(" 都可以有一个 "),a("code",[t._v("event")]),t._v(" 参数，可以通过 "),a("code",[t._v("type")]),t._v(" 获取事件类型（如： "),a("code",[t._v("click")]),t._v(" ）、 "),a("code",[t._v("currentTarget")]),t._v(" 获取处理事件的元素，相当于当时的 "),a("code",[t._v("this")]),t._v(" 对象")])]),t._v(" "),a("h3",{attrs:{id:"handleevent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#handleevent"}},[t._v("#")]),t._v(" handleEvent")]),t._v(" "),a("p",[a("code",[t._v("addEventListener(event,f)")]),t._v(" ，第二个参数不仅可以传入一个函数，也可以传入一个对象 obj，事件发生时，会自动调用对象内的 "),a("code",[t._v("handleEvent(event)")]),t._v(" 函数，我们可以这样使用：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Click me"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" at "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentTarget"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("或者可以使用一个类：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Click me"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Menu")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mousedown'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n          elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Mouse button pressed"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mouseup'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n          elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"...and released."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" menu "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Menu")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mousedown'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" menu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mouseup'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" menu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("本质上是一样，看实际业务场合使用。")]),t._v(" "),a("h2",{attrs:{id:"冒泡事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#冒泡事件"}},[t._v("#")]),t._v(" 冒泡事件")]),t._v(" "),a("h3",{attrs:{id:"概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[t._v("#")]),t._v(" 概念")]),t._v(" "),a("p",[t._v("简单来说：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("body *")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("border")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1px solid blue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("form")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onclick")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("alert("),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("form"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("FORM\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onclick")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("alert("),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("DIV\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onclick")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("alert("),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("P"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("form")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("点击 "),a("code",[t._v("p")]),t._v(" 的时候，会依次弹出 "),a("code",[t._v("[p、div、form]")]),t._v(" ，因为"),a("strong",[t._v("当一个事件发生在一个元素上，它会首先运行在该元素上的处理程序，然后运行其父元素上的处理程序，然后一直向上到其他祖先上的处理程序。")])]),t._v(" "),a("h3",{attrs:{id:"阻止冒泡⭐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阻止冒泡⭐"}},[t._v("#")]),t._v(" 阻止冒泡⭐")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event.stopPropagation()")]),t._v(" 可以阻止冒泡，但是只能阻止当前元素不要继续冒泡，但是只有当前的这个 "),a("code",[t._v("event")]),t._v(" 会停止冒泡，"),a("strong",[t._v("其他的")]),t._v(" "),a("code",[t._v("event2/3/4")]),t._v(" "),a("strong",[t._v("还会继续冒泡")])]),t._v(" "),a("li",[a("code",[t._v("event.stopImmediatePropagation()")]),t._v(" 可以用于停止冒泡，并阻止当前元素上的处理程序运行。"),a("strong",[t._v("使用该方法之后，其他处理程序就不会被执行")]),t._v("。")])]),t._v(" "),a("h3",{attrs:{id:"event-target"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-target"}},[t._v("#")]),t._v(" event.target")]),t._v(" "),a("p",[t._v("在冒泡过程中， "),a("code",[t._v("event.target")]),t._v(" 指向的是当前冒泡到那个元素，而 "),a("code",[t._v("this")]),t._v(" 是 "),a("code",[t._v("event")]),t._v(" 发生的元素，注意区分。")]),t._v(" "),a("h2",{attrs:{id:"事件委托⭐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件委托⭐"}},[t._v("#")]),t._v(" 事件委托⭐")]),t._v(" "),a("p",[a("strong",[t._v("事件委托")]),t._v(" 是一种处理这种情况：\n在一个容器中，会有多个"),a("strong",[t._v("相同或类似的目标元素")]),t._v("对"),a("strong",[t._v("同样的事件")]),t._v("做一些处理，比如有一个 9x9 的表格，每一个 td 鼠标放上去的时候修改颜色。\n处理方式一般是通过 "),a("code",[t._v("container.addEventListener(event,(e)=>{xxxx})")]),t._v(" ，根据 "),a("code",[t._v("e.target")]),t._v(" 获取当前活跃元素来进行操作。\n这是一种处理模式，具体的一些例子见"),a("a",{attrs:{href:"https://zh.javascript.info/event-delegation",target:"_blank",rel:"noopener noreferrer"}},[t._v("课程"),a("OutboundLink")],1),t._v(" 。")]),t._v(" "),a("h2",{attrs:{id:"阻止浏览器默认事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阻止浏览器默认事件"}},[t._v("#")]),t._v(" 阻止浏览器默认事件")]),t._v(" "),a("ol",[a("li",[t._v("在 "),a("code",[t._v("on<event>")]),t._v(" 中使用 "),a("code",[t._v("return false")])]),t._v(" "),a("li",[t._v("在 "),a("code",[t._v("addEventListener")]),t._v(" 中使用 "),a("code",[t._v("event.preventDefault()")])]),t._v(" "),a("li",[t._v("在 "),a("code",[t._v("addEventListener")]),t._v(" 这个方法的第三个参数 "),a("code",[t._v("options")]),t._v(" 对象中设置 "),a("code",[t._v("passive:true")]),t._v(" 表示程序 "),a("strong",[t._v("不会")]),t._v(" 调用 "),a("code",[t._v("event.preventDefault()")]),t._v(" ，注意，是不会！")]),t._v(" "),a("li",[t._v("判断默认事件是否被阻止，使用 "),a("code",[t._v("event.defaultPrevented")]),t._v(" ，返回一个 "),a("code",[t._v("bool")]),t._v(" 值")])]),t._v(" "),a("h2",{attrs:{id:"鼠标事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#鼠标事件"}},[t._v("#")]),t._v(" 鼠标事件")]),t._v(" "),a("h3",{attrs:{id:"常用事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用事件"}},[t._v("#")]),t._v(" 常用事件")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("mousedown/mouseup")]),t._v("  在元素上点击/释放鼠标按钮。")]),t._v(" "),a("li",[a("code",[t._v("mouseover/mouseout")]),t._v("  鼠标指针从一个元素上移入/移出。")]),t._v(" "),a("li",[a("code",[t._v("mousemove")]),t._v("  鼠标在元素上的每个移动都会触发此事件。")]),t._v(" "),a("li",[a("code",[t._v("click")]),t._v("  如果使用的是鼠标左键，则在同一个元素上的 mousedown 及 mouseup 相继触发后，触发该事件。")]),t._v(" "),a("li",[a("code",[t._v("dblclick")]),t._v("  在短时间内双击同一元素后触发。如今已经很少使用了。")]),t._v(" "),a("li",[a("code",[t._v("contextmenu")]),t._v("  在鼠标右键被按下时触发。还有其他打开上下文菜单的方式，例如使用特殊的键盘按键，在这种情况下它也会被触发，因此它并不完全是鼠标事件。")]),t._v(" "),a("li",[a("code",[t._v("oncopy")]),t._v("  复制事件")])]),t._v(" "),a("blockquote",[a("p",[t._v("当我们单击时，触发的顺序是： "),a("code",[t._v("mousedown")]),t._v(" => "),a("code",[t._v("mouseup")]),t._v(" => "),a("code",[t._v("click")])])]),t._v(" "),a("h3",{attrs:{id:"按钮判断"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#按钮判断"}},[t._v("#")]),t._v(" 按钮判断")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("鼠标按键状态")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[a("code",[t._v("event.button")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("左键 (主要按键)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("0")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("中键 (辅助按键)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("右键 (次要按键)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("2")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("X1 键 (后退按键)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("3")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("X2 键 (前进按键)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("4")])])])]),t._v(" "),a("h3",{attrs:{id:"鼠标移动事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#鼠标移动事件"}},[t._v("#")]),t._v(" 鼠标移动事件")]),t._v(" "),a("p",[t._v("这里我们主要介绍两套移入移除方法：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("mouseover/mouseout")]),t._v(" ：鼠标移入/移出")])]),t._v(" "),a("p",[t._v("他们都有 "),a("code",[t._v("target")]),t._v(" 和 "),a("code",[t._v("relatedTarget")]),t._v(" 两个属性：")]),t._v(" "),a("ul",[a("li",[t._v("对于 "),a("code",[t._v("mouseover")]),t._v(" ， "),a("code",[t._v("target")]),t._v(" 是"),a("strong",[t._v("移入对象")]),t._v("， "),a("code",[t._v("relatedTarget")]),t._v(" 是"),a("strong",[t._v("来自的对象")])]),t._v(" "),a("li",[t._v("对于 "),a("code",[t._v("mouseout")]),t._v(" ， "),a("code",[t._v("target")]),t._v(" 是"),a("strong",[t._v("离开对象")]),t._v("， "),a("code",[t._v("relatedTarget")]),t._v(" 是"),a("strong",[t._v("离开后移入的对象")])])]),t._v(" "),a("p",[a("strong",[a("img",{attrs:{src:"https://gitee.com/rodrick278/img/raw/master/img/1607397530349-f6818288-614f-40d5-9b89-280378af9354.png",alt:"2020-12-08_111132.png"}})])]),t._v(" "),a("blockquote",[a("p",[t._v("不管是移入移除， "),a("code",[t._v("relatedTarget")]),t._v(" 可以为 "),a("code",[t._v("null")])])]),t._v(" "),a("ul",[a("li",[t._v("父元素移入子元素的时候，会触发父元素的 "),a("code",[t._v("mouseout")]),t._v(" ，然后触发子元素的 "),a("code",[t._v("mouseover")]),t._v(" ，注意子元素的 "),a("code",[t._v("mouseover")]),t._v(" 是会 "),a("strong",[t._v("冒泡")]),t._v(" 的，也就是这时候会再触发父元素的 "),a("code",[t._v("mouseover")]),t._v(" ，我们可以借用这个特性做 "),a("strong",[t._v("事件委托")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/rodrick278/img/raw/master/img/1607397946236-ee0b46a6-b475-407c-b0b5-c3a319910e1e.png",alt:"image.png"}})]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("mouseenter/mouseleave")]),t._v(" 这也是一套移入移除方法，但是他和 "),a("code",[t._v("mouseover/mouseout")]),t._v(" 最大的区别在于：")]),t._v(" "),a("ol",[a("li",[t._v("进入父元素后，触发父元素的 "),a("code",[t._v("mouseenter")]),t._v(" ，不管你在这个父元素的里面如何进出任何子元素上，都不会触发父元素的 "),a("code",[t._v("mouseleave")]),t._v(" ，只会触发子元素的 "),a("code",[t._v("mouseenter/mouseleave")]),t._v("  ，"),a("a",{attrs:{href:"https://codepen.io/rodrick278/pen/XWjKVEp",target:"_blank",rel:"noopener noreferrer"}},[t._v("查看示例代码"),a("OutboundLink")],1),t._v(" 如下")]),t._v(" "),a("li",[t._v("事件 mouseenter/mouseleave 不会冒泡。")])]),t._v(" "),a("iframe",{staticStyle:{width:"100%"},attrs:{height:"393",scrolling:"no",title:"mouseenter/leave",src:"https://codepen.io/rodrick278/embed/XWjKVEp?height=293&theme-id=light&default-tab=html,result",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true"}},[t._v("\n   See the Pen "),a("a",{attrs:{href:"https://codepen.io/rodrick278/pen/XWjKVEp"}},[t._v("mouseenter/leave")]),t._v(" by rodrick278\n   ("),a("a",{attrs:{href:"https://codepen.io/rodrick278"}},[t._v("@rodrick278")]),t._v(") on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".\n ")])])]),t._v(" "),a("h3",{attrs:{id:"拖放事件⭐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拖放事件⭐"}},[t._v("#")]),t._v(" 拖放事件⭐")]),t._v(" "),a("p",[t._v("拖放事件我们有一套基础的拖放算法如下所示：")]),t._v(" "),a("ol",[a("li",[t._v("在 mousedown 上 —— 根据需要准备要移动的元素（也许创建一个它的副本，向其中添加一个类或其他任何东西）。")]),t._v(" "),a("li",[t._v("然后在 mousemove 上，通过更改 position:absolute 情况下的 left/top 来移动它。")]),t._v(" "),a("li",[t._v("在 mouseup 上 —— 执行与完成的拖放相关的所有行为。")])]),t._v(" "),a("p",[t._v("这里用一个拖放小球的例子作为学习，注意看 "),a("strong",[t._v("js 中的注释")])]),t._v(" "),a("iframe",{staticStyle:{width:"100%"},attrs:{height:"403",scrolling:"no",title:"拖动事件",src:"https://codepen.io/rodrick278/embed/yLaJKbQ?height=303&theme-id=light&default-tab=js,result",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true"}},[t._v("\n  See the Pen "),a("a",{attrs:{href:"https://codepen.io/rodrick278/pen/yLaJKbQ"}},[t._v("拖动事件")]),t._v(" by rodrick278\n  ("),a("a",{attrs:{href:"https://codepen.io/rodrick278"}},[t._v("@rodrick278")]),t._v(") on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".\n")]),t._v(" "),a("p",[t._v("再来看一个滑动条（slider）的封装")]),t._v(" "),a("iframe",{staticStyle:{width:"100%"},attrs:{height:"375",scrolling:"no",title:"滚动条",src:"https://codepen.io/rodrick278/embed/dypXqLj?height=375&theme-id=light&default-tab=js,result",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true"}},[t._v("\n  See the Pen "),a("a",{attrs:{href:"https://codepen.io/rodrick278/pen/dypXqLj"}},[t._v("滚动条")]),t._v(" by rodrick278\n  ("),a("a",{attrs:{href:"https://codepen.io/rodrick278"}},[t._v("@rodrick278")]),t._v(") on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".\n")]),t._v(" "),a("p",[t._v("这里说明一下一下为什么 "),a("code",[t._v("mouseup")]),t._v(" 和 "),a("code",[t._v("mousemove")]),t._v(" 都要加在 "),a("code",[t._v("document")]),t._v(" 上，因为")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("mousemove")]),t._v(" 是一定要在 "),a("code",[t._v("document")]),t._v(" 上的，如果放在 "),a("code",[t._v("thumb")]),t._v(" 上，你鼠标移动快到离开了 "),a("code",[t._v("thumb")]),t._v(" 那么 "),a("code",[t._v("mousemove")]),t._v(" 事件就立刻失效了")]),t._v(" "),a("li",[a("code",[t._v("mouseup")]),t._v(" 如果你拖动的时候鼠标离开了 "),a("code",[t._v("thumb")]),t._v(" 然后松开，那么 "),a("code",[t._v("mouseup")]),t._v(" 就失效")])]),t._v(" "),a("h3",{attrs:{id:"总结一下【拖放】⭐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结一下【拖放】⭐"}},[t._v("#")]),t._v(" 总结一下【拖放】⭐")]),t._v(" "),a("ol",[a("li",[t._v("遵循 "),a("code",[t._v("mousedown")]),t._v(" 里绑定 "),a("code",[t._v("mousemove 和 mouseup")])]),t._v(" "),a("li",[a("code",[t._v("mousemove")]),t._v(" 一般都放在 "),a("code",[t._v("document")]),t._v(" ，因为鼠标拖动时候快了就会离开元素")]),t._v(" "),a("li",[a("code",[t._v("mouseup")]),t._v(" 想清楚鼠标离开元素是否需要触发 "),a("code",[t._v("mouseup")]),t._v(" 再考虑绑定在哪")]),t._v(" "),a("li",[t._v("一半都会要计算 "),a("code",[t._v("shiftX/Y")]),t._v(" ，一般都是 "),a("code",[t._v("event.clientX - ball.getBoundingClientRect().left")]),t._v(" 这种形式")]),t._v(" "),a("li",[a("code",[t._v("document.elementFromPoint")]),t._v(" 可以获取鼠标指针下当前嵌套最深的元素，但是记得 "),a("code",[t._v("hidden")]),t._v(" 你鼠标拖动的元素，获取了之后再解除 "),a("code",[t._v("hidden")]),t._v(" ，不然可能返回的永远都是它")])]),t._v(" "),a("h3",{attrs:{id:"指针事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#指针事件"}},[t._v("#")]),t._v(" 指针事件")]),t._v(" "),a("blockquote",[a("p",[t._v("指针事件兼容 IE 10")])]),t._v(" "),a("p",[t._v("我们可以在现代浏览器使用 "),a("code",[t._v("pointer<event>")]),t._v(" 来代替 "),a("code",[t._v("mouse<event>")]),t._v(" ：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("指针事件")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("类似的鼠标事件")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("pointerdown")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("mousedown")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("pointerup")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("mouseup")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("pointermove")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("mousemove")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("pointerover")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("mouseover")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("pointerout")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("mouseout")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("pointerenter")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("mouseenter")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("pointerleave")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("mouseleave")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("pointercancel")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("-")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("gotpointercapture")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("-")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("lostpointercapture")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("-")])])])]),t._v(" "),a("ul",[a("li",[t._v("在触屏设备中，指针事件会更加好用")]),t._v(" "),a("li",[t._v("在拥有所有鼠标事件属性的情况下，还有如下事件：\n"),a("ul",[a("li",[a("p",[a("code",[t._v("pointerId")]),t._v(" —— 触发当前事件的指针唯一标识符。\n浏览器生成的。使我们能够处理多指针的情况，例如带有触控笔和多点触控功能的触摸屏（下文会有相关示例）。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("pointerType")]),t._v(" —— 指针的设备类型。必须为字符串，可以是：“mouse”、“pen” 或 “touch”。\n我们可以使用这个属性来针对不同类型的指针输入做出不同响应。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("isPrimary")]),t._v(" —— 当指针为首要指针（多点触控时按下的第一根手指）时为 "),a("code",[t._v("true")]),t._v("。")])])])])]),t._v(" "),a("p",[t._v("关于多点触控介绍详见"),a("a",{attrs:{href:"https://zh.javascript.info/pointer-events#duo-dian-chu-kong",target:"_blank",rel:"noopener noreferrer"}},[t._v("教程"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"键盘事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#键盘事件"}},[t._v("#")]),t._v(" 键盘事件")]),t._v(" "),a("h3",{attrs:{id:"keydown-keyup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#keydown-keyup"}},[t._v("#")]),t._v(" keydown & keyup")]),t._v(" "),a("p",[t._v("顾名思义，不解释")]),t._v(" "),a("h3",{attrs:{id:"event-code-event-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-code-event-key"}},[t._v("#")]),t._v(" event.code & event.key")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("Key")])]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[a("strong",[a("code",[t._v("event.key")])])]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[a("strong",[a("code",[t._v("event.code")])])])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Z")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("z")]),t._v("（小写）")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("KeyZ")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Shift+Z")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("Z")]),t._v("（大写）")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("KeyZ")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("F1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("F1")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("F1")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Backspace")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("Backspace")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("Backspace")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Shift")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("Shift")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("ShiftRight")]),t._v(" 或 "),a("code",[t._v("ShiftLeft")])])])])]),t._v(" "),a("p",[t._v("观察上面我们会发现，同一个按键 Z，可以与或不与 Shift 一起按下。我们会得到两个不同的字符：小写的 z 和大写的 Z。 "),a("code",[t._v("event.key")]),t._v("  正是这个字符，并且它将是不同的。但是， "),a("code",[t._v("event.code")]),t._v("  是相同的。\n"),a("code",[t._v("event.code")]),t._v("  准确地标明了哪个键被按下了。例如，大多数键盘有两个 Shift 键，一个在左边，一个在右边。 "),a("code",[t._v("event.code")]),t._v("  会准确地告诉我们按下了哪个键，而 "),a("code",[t._v("event.key")]),t._v("  对按键的“含义”负责：它是什么（一个 “Shift”）。")]),t._v(" "),a("h3",{attrs:{id:"组合键"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组合键"}},[t._v("#")]),t._v(" 组合键")]),t._v(" "),a("p",[t._v("所有的鼠标事件都包含有关按下的组合键的信息。\n事件属性：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("shiftKey")]),t._v(" ：Shift")]),t._v(" "),a("li",[a("code",[t._v("altKey")]),t._v(" ：Alt（或对于 Mac 是 Opt）")]),t._v(" "),a("li",[a("code",[t._v("ctrlKey")]),t._v(" ：Ctrl")]),t._v(" "),a("li",[a("code",[t._v("metaKey")]),t._v(" ：对于 Mac 是 Cmd")])]),t._v(" "),a("p",[t._v("使用方式：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keydown'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'KeyZ'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctrlKey "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("metaKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Undo!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"滚动事件⭐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#滚动事件⭐"}},[t._v("#")]),t._v(" 滚动事件⭐")]),t._v(" "),a("p",[a("code",[t._v("scroll")]),t._v("  事件允许对页面或元素滚动作出反应。我们可以在这里做一些有用的事情。\n这里举几个 "),a("a",{attrs:{href:"https://zh.javascript.info/onscroll",target:"_blank",rel:"noopener noreferrer"}},[t._v("现代js教程"),a("OutboundLink")],1),t._v(" 的例子:")]),t._v(" "),a("ol",[a("li",[t._v("上拉加载更多，注意 "),a("code",[t._v("getBoundingClientRect().bottom")]),t._v(" 是浏览器视窗顶部到文档底部的距离，且它永不为0，因为当他等于 "),a("code",[t._v("clientHeight")]),t._v(" 的时候就滚不动了。")])]),t._v(" "),a("iframe",{staticStyle:{width:"100%"},attrs:{height:"400",scrolling:"no",title:"上拉加载更多",src:"https://codepen.io/rodrick278/embed/zYKBMvb?height=265&theme-id=light&default-tab=js,result",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true"}},[t._v("\n  See the Pen "),a("a",{attrs:{href:"https://codepen.io/rodrick278/pen/zYKBMvb"}},[t._v("上拉加载更多")]),t._v(" by rodrick278\n  ("),a("a",{attrs:{href:"https://codepen.io/rodrick278"}},[t._v("@rodrick278")]),t._v(") on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".\n")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("回到顶部")])]),t._v(" "),a("iframe",{staticStyle:{width:"100%"},attrs:{height:"400",scrolling:"no",title:"回到顶部",src:"https://codepen.io/rodrick278/embed/VwKjVyK?height=265&theme-id=light&default-tab=css,result",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true"}},[t._v("\n  See the Pen "),a("a",{attrs:{href:"https://codepen.io/rodrick278/pen/VwKjVyK"}},[t._v("回到顶部")]),t._v(" by rodrick278\n  ("),a("a",{attrs:{href:"https://codepen.io/rodrick278"}},[t._v("@rodrick278")]),t._v(") on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".\n")]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("图片懒加载，基本原理：src 占位图片，data-src是实际地址，在判断图片头或尾显示出的时候，把src替换为data-src")])]),t._v(" "),a("iframe",{staticStyle:{width:"100%"},attrs:{height:"600",scrolling:"no",title:"图片懒加载",src:"https://codepen.io/rodrick278/embed/poEbQxG?height=265&theme-id=light&default-tab=html,result",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true"}},[t._v("\n  See the Pen "),a("a",{attrs:{href:"https://codepen.io/rodrick278/pen/poEbQxG"}},[t._v("图片懒加载")]),t._v(" by rodrick278\n  ("),a("a",{attrs:{href:"https://codepen.io/rodrick278"}},[t._v("@rodrick278")]),t._v(") on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".\n")]),t._v(" "),a("h2",{attrs:{id:"选择与范围"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选择与范围"}},[t._v("#")]),t._v(" 选择与范围")]),t._v(" "),a("p",[t._v("有一些特殊的场合下，我们也许会需要操作选择范围（鼠标拖黑网页内容），或者读取下、用户选择范围这样的操作，可以使用到  Selection  和 Range 对象，由于应用场合比较少，不展开细说，细节"),a("a",{attrs:{href:"https://zh.javascript.info/selection-range",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考教程"),a("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);